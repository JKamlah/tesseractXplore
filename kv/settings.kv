#: import Factory kivy.factory.Factory
<SettingsScreen>:
    name: 'settings'
    BoxLayout:
        orientation: 'vertical'
        padding: dp(25)
        ScrollViewY:
            MDList:
                size_hint_min_x: 400
                size_hint_max_x: 700
                OneLineListItem:
                    font_style: 'H5'
                    text: 'TesseractXplore settings'
                OneLineListItem:
                    font_style: 'H6'
                    text: 'Username'
                MDTextField:
                    #mode: 'rectangle'
                    id: username_input
                    size_hint_min_x: 100
                    #icon_left: 'account'
                    hint_text: 'Username'
                OneLineListItem:
                    font_style: 'H6'
                    text: 'Password'
                MDTextField:
                    id: password
                    #mode: 'rectangle'
                    password: True
                    hint_text: 'Password'
                OneLineListItem:
                OneLineListItem:
                    font_style: 'H5'
                    text: 'I/O Settings'
                OneLineListItem:
                    font_style: 'H6'
                    text: 'Image filetypes'
                MDTextField:
                    id: filetypes
                    #mode: 'rectangle'
                    hint_text: 'Set filetypes'
             # TODO: ATM not used
             #  OneLineListItem:
             #      font_style: 'H6'
             #      text: 'Regex'
             #  MDTextField:
             #      id: regex
             #      mode: 'rectangle'
             #      hint_text: 'Set Regex to find files'

                TwoLineListItem:
                    font_style: 'H6'
                    text: 'Font'
                    secondary_text: 'Select which font should be used to display ocr results.'
                Spinner:
                    id: fontname
                    size_hint_y: None
                    height: 50
                    text: 'RobotoMono-Regular'
                    font_name: self.text if self.text else self.font_name
                    option_cls: Factory.FntSpinnerOption
                OneLineListItem:
                    font_style: 'H6'
                    text: 'Font size'
                MDTextField:
                    id: fontsize
                    hint_text: 'Set font size'


             # TODO: Needs further testings
             #  TwoLineListItem:
             #      font_style: 'H6'
             #      text: 'Text Provider'
             #      secondary_text: 'Needs a restart. See documentation for further information.'
             #  MDBoxLayout:
             #      orientation: 'horizontal'
             #      adaptive_height: True
             #      MyToggleButton
             #          text: 'sdl '
             #          id: sdl_textprovider_chk
             #          group: 'textprovider'
             #          width: dp(8)
             #      MyToggleButton:
             #          text: 'pil '
             #          id: pil_textprovider_chk
             #          group: 'textprovider'
             #          width: dp(8)
             #      MyToggleButton:
             #          text: 'pygame '
             #          id: pygame_textprovider_chk
             #          group: 'textprovider'
             #          width: dp(8)
             #      MyToggleButton:
             #          text: 'pango '
             #          id: pango_textprovider_chk
             #          group: 'textprovider'
             #          width: dp(8)
                TwoLineListItem:
                    font_style: 'H6'
                    text: 'PDF-Viewer'
                    secondary_text: 'Default: webbrowser'
                MDTextField:
                    id: pdfviewer
                    #mode: 'rectangle'
                    hint_text: 'Set path or cli-cmd to pdfviewer'
                TwoLineListItem:
                    font_style: 'H6'
                    text: 'Image-Editor'
                MDTextField:
                    id: ie_thumbnail_size
                    #mode: 'rectangle'
                    input_filter: 'int'
                    hint_text: 'Thumbnail size'
                OneLineListItem:
                OneLineListItem:
                    font_style: 'H5'
                    text: 'Extra Tesseract-Settings'
                MDRaisedButton:
                    id: install_tesseract_btn
                    text: "Install tesseract"
                    on_press:
                        app.settings_controller.install_tesseract_dialog()
                TwoLineListItem:
                    text: 'Path to tesseract'
                    secondary_text: 'This dir is automatically found, but can be set manually too'
                MDTextField:
                    #mode: 'rectangle'
                    id: tesspath
                TwoLineListItem:
                    text: 'Path to tesseract models (Tessdata)'
                    secondary_text: 'This dir is automatically found, but can be set manually too'
                MDBoxLayout:
                    orientation: 'horizontal'
                    adaptive_height: True
                    MyToggleButton:
                        text: 'Userwide folder (default)'
                        id: tessdatadir_user_sel_chk
                        group: 'tessdatadir'
                        width: dp(8)
                    MyToggleButton
                        text: 'Systemwide folder'
                        id: tessdatadir_system_sel_chk
                        group: 'tessdatadir'
                        width: dp(8)
                    MyToggleButton:
                        text: 'Userspecific folder'
                        id: tessdatadir_userspecific_sel_chk
                        group: 'tessdatadir'
                        width: dp(8)
                MDTextField:
                    #mode: 'rectangle'
                    id: tessdatadir
                # TODO: ATM not used
                #OneLineAvatarListItem:
                #    text: 'Use Path to tesseract'
                #    SwitchListItem:
                #        id: tesseract_path_chk
                #MDTextField:
                #    mode: 'rectangle'
                #   id: tesspath
                #   size_hint_min_x: 100

                OneLineListItem:
                    font_style: 'H6'
                    text: 'DPI'
                MDTextField:
                    id: dpi
                    #mode: 'rectangle'
                    hint_text: 'Set DPI (default: auto)'
                    input_filter: 'int'
                    #on_release: app.tesseract_controller.dpi_menu.open()
                OneLineListItem:
                    font_style: 'H6'
                    text: 'Check for inverted text'
                OneLineAvatarListItem:
                    text: 'Find inverted text (text recognition is faster when switched off)'
                    SwitchListItem:
                        id: do_invert_chk
                OneLineListItem:
                    font_style: 'H6'
                    text: 'Extra parameter'
                MDTextField:
                    id: extra_param
                    #mode: 'rectangle'
                    hint_text: 'Set parameter (e.g. load_system_dawg=1)'
                    #on_release: app.tesseract_controller.dpi_menu.open()
                OneLineListItem:
                OneLineListItem:
                    font_style: 'H6'
                    font_style: 'H5'
                    text: 'Display settings'
                OneLineAvatarIconListItem:
                    text: 'Dark Mode'
                    SwitchListItem:
                        id: dark_mode_chk
                    IconRight:
                        icon: 'theme-light-dark'
                OneLineListItem:
                    font_style: 'H6'
                    font_style: 'H5'
                    text: 'Cache settings'
                TwoLineListItem:
                    id: cache_size_output
                    text: 'Calculating cache size...'
                OneLineAvatarIconListItem:
                    id: clear_stdout_cache_button
                    text: 'Clear stdout cache'
                    IconLeft:
                        icon: 'delete'
                ThreeLineAvatarListItem:
                    id: clear_thumbnail_cache_button
                    text: 'Clear thumbnail cache'
                    secondary_text: 'Clear all cached thumbnails'
                    IconLeft:
                        icon: 'delete'
                OneLineListItem:
                    font_style: 'H6'
                    font_style: 'H5'
                    text: 'Control settings'
                OneLineAvatarIconListItem:
                    id: reset_default_button
                    text: 'Reset to defaults'
                    IconLeft:
                        icon: 'backup-restore'
        StatusBar:
            id: status_bar
